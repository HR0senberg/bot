import logging
import random
from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import Application, CommandHandler, MessageHandler, filters, ConversationHandler, CallbackContext

# Включаем логирование
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levellevel)s - %(message)s', level=logging.INFO
)
logger = logging.getLogger(__name__)

# Состояния для ConversationHandler
NAME, MAIN_MENU = range(2)

quotes = [
    "Человек создан для счастья, как птица для полета. — В. Г. Короленко",
    "Всё приходит вовремя для того, кто умеет ждать. — Ф. М. Достоевский",
    "Счастье — это когда тебя понимают. — А. И. Солженицын",
    "Жизнь — это то, что с тобой происходит, пока ты строишь планы. — Джон Леннон (в интерпретации русской культуры)",
    "Любить — значит видеть человека таким, каким его задумал Бог. — Ф. М. Достоевский",
    "Сила — в правде. — Александр Невский",
    "Учитесь, читайте, размышляйте и извлекайте из всего самое полезное. — Н. И. Пирогов",
    "Красота спасет мир. — Ф. М. Достоевский",
    "Чем меньше люди знают, тем обширнее кажется им их знание. — Л. Н. Толстой",
    "Самый счастливый человек тот, кто дарит счастье наибольшему числу людей. — Д. И. Менделеев",
    "Великие дела нужно совершать, а не обдумывать бесконечно. — Юрий Гагарин",
    "Искусство заключается в том, чтобы найти необыкновенное в обыкновенном. — В. Г. Белинский",
    "Человек — это то, во что он верит. — А. П. Чехов",
    "Смысл жизни в красоте и силе стремления к целям. — М. Горький",
    "Лучше быть, чем казаться. — А. В. Суворов",
    "Труд — отец счастья. — М. В. Ломоносов",
    "Великое счастье — чувствовать себя человеком. — М. Горький",
    "Жизнь — это миг. Её нельзя прожить сначала на черновике, а потом переписать на беловик. — А. П. Чехов",
    "Самый страшный грех — это равнодушие. — А. П. Чехов",
    "Человек — это звучит гордо. — М. Горький",
    "Истина рождается в споре. — В. И. Ленин",
    "Свобода — это осознанная необходимость. — Г. В. Плеханов",
    "Человек — это тайна. Её надо разгадать. — Ф. М. Достоевский",
    "Счастье — это когда утром хочется на работу, а вечером — домой. — А. П. Чехов",
    "Любовь — это труд души. — Л. Н. Толстой",
    "Жизнь — это движение. — Аристотель (в интерпретации русской культуры)",
    "Человек — это то, что он читает. — М. Горький",
    "Счастье — это когда тебя понимают. — А. И. Солженицын",
    "Искусство — это зеркало, отражающее жизнь. — В. Г. Белинский",
    "Человек — это мера всех вещей. — Протагор (в интерпретации русской культуры)",
    "Лучше один раз увидеть, чем сто раз услышать. — Русская пословица",
    "Счастье — это когда у тебя есть, кому сказать «доброе утро». — А. П. Чехов",
    "Жизнь — это миг. Её нельзя прожить сначала на черновике, а потом переписать на беловик. — А. П. Чехов",
    "Самый счастливый человек тот, кто дарит счастье наибольшему числу людей. — Д. И. Менделеев",
    "Человек — это звучит гордо. — М. Горький",
    "Истина рождается в споре. — В. И. Ленин",
    "Свобода — это осознанная необходимость. — Г. В. Плеханов",
    "Человек — это тайна. Её надо разгадать. — Ф. М. Достоевский",
    "Счастье — это когда утром хочется на работу, а вечером — домой. — А. П. Чехов",
    "Любовь — это труд души. — Л. Н. Толстой",
    "Жизнь — это движение. — Аристотель (в интерпретации русской культуры)",
    "Человек — это то, что он читает. — М. Горький",
    "Счастье — это когда тебя понимают. — А. И. Солженицын",
    "Искусство — это зеркало, отражающее жизнь. — В. Г. Белинский",
    "Человек — это мера всех вещей. — Протагор (в интерпретации русской культуры)",
    "Лучше один раз увидеть, чем сто раз услышать. — Русская пословица",
    "Счастье — это когда у тебя есть, кому сказать «доброе утро». — А. П. Чехов",
    "Жизнь — это миг. Её нельзя прожить сначала на черновике, а потом переписать на беловик. — А. П. Чехов",
    "Самый счастливый человек тот, кто дарит счастье наибольшему числу людей. — Д. И. Менделеев",
    "Человек — это звучит гордо. — М. Горький",
    "Истина рождается в споре. — В. И. Ленин",
    "Свобода — это осознанная необходимость. — Г. В. Плеханов",
    "Человек — это тайна. Её надо разгадать. — Ф. М. Достоевский",
    "Счастье — это когда утром хочется на работу, а вечером — домой. — А. П. Чехов",
    "Любовь — это труд души. — Л. Н. Толстой",
    "Жизнь — это движение. — Аристотель (в интерпретации русской культуры)",
    "Человек — это то, что он читает. — М. Горький",
    "Счастье — это когда тебя понимают. — А. И. Солженицын",
    "Искусство — это зеркало, отражающее жизнь. — В. Г. Белинский",
    "Человек — это мера всех вещей. — Протагор (в интерпретации русской культуры)",
    "Лучше один раз увидеть, чем сто раз услышать. — Русская пословица",
    "Счастье — это когда у тебя есть, кому сказать «доброе утро». — А. П. Чехов",
    "Жизнь — это миг. Её нельзя прожить сначала на черновике, а потом переписать на беловик. — А. П. Чехов",
    "Самый счастливый человек тот, кто дарит счастье наибольшему числу людей. — Д. И. Менделеев",
    "Человек — это звучит гордо. — М. Горький",
    "Истина рождается в споре. — В. И. Ленин",
    "Свобода — это осознанная необходимость. — Г. В. Плеханов",
    "Человек — это тайна. Её надо разгадать. — Ф. М. Достоевский",
    "Счастье — это когда утром хочется на работу, а вечером — домой. — А. П. Чехов",
    "Любовь — это труд души. — Л. Н. Толстой",
    "Жизнь — это движение. — Аристотель (в интерпретации русской культуры)",
    "Человек — это то, что он читает. — М. Горький",
    "Счастье — это когда тебя понимают. — А. И. Солженицын",
    "Искусство — это зеркало, отражающее жизнь. — В. Г. Белинский",
    "Человек — это мера всех вещей. — Протагор (в интерпретации русской культуры)",
    "Лучше один раз увидеть, чем сто раз услышать. — Русская пословица",
    "Счастье — это когда у тебя есть, кому сказать «доброе утро». — А. П. Чехов",
    "Жизнь — это миг. Её нельзя прожить сначала на черновике, а потом переписать на беловик. — А. П. Чехов",
    "Самый счастливый человек тот, кто дарит счастье наибольшему числу людей. — Д. И. Менделеев",
    "Человек — это звучит гордо. — М. Горький",
    "Истина рождается в споре. — В. И. Ленин",
    "Свобода — это осознанная необходимость. — Г. В. Плеханов",
    "Человек — это тайна. Её надо разгадать. — Ф. М. Достоевский",
    "Счастье — это когда утром хочется на работу, а вечером — домой. — А. П. Чехов",
    "Любовь — это труд души. — Л. Н. Толстой",
    "Жизнь — это движение. — Аристотель (в интерпретации русской культуры)",
    "Человек — это то, что он читает. — М. Горький",
    "Счастье — это когда тебя понимают. — А. И. Солженицын",
    "Искусство — это зеркало, отражающее жизнь. — В. Г. Белинский",
    "Человек — это мера всех вещей. — Протагор (в интерпретации русской культуры)",
    "Лучше один раз увидеть, чем сто раз услышать. — Русская пословица",
    "Счастье — это когда у тебя есть, кому сказать «доброе утро». — А. П. Чехов",
    "Жизнь — это миг. Её нельзя прожить сначала на черновике, а потом переписать на беловик. — А. П. Чехов",
    "Самый счастливый человек тот, кто дарит счастье наибольшему числу людей. — Д. И. Менделеев",
    "Человек — это звучит гордо. — М. Горький",
    "Истина рождается в споре. — В. И. Ленин",
    "Свобода — это осознанная необходимость. — Г. В. Плеханов",
    "Человек — это тайна. Её надо разгадать. — Ф. М. Достоевский",
    "Счастье — это когда утром хочется на работу, а вечером — домой. — А. П. Чехов",
    "Любовь — это труд души. — Л. Н. Толстой",
    "Жизнь — это движение. — Аристотель (в интерпретации русской культуры)",
    "Человек — это то, что он читает. — М. Горький",
    "Счастье — это когда тебя понимают. — А. И. Солженицын",
    "Искусство — это зеркало, отражающее жизнь. — В. Г. Белинский",
    "Человек — это мера всех вещей. — Протагор (в интерпретации русской культуры)",
    "Лучше один раз увидеть, чем сто раз услышать. — Русская пословица",
    "Счастье — это когда у тебя есть, кому сказать «доброе утро». — А. П. Чехов",
]

jokes = [
    "Почему программисты всегда путают Хэллоуин и Рождество? Потому что Oct 31 == Dec 25.",
    "Почему книга боялась лестницы? Потому что у нее было много страниц.",
    "Что сказал один океан другому? Ничего, они просто помахали.",
    "Почему скелет не пошел на вечеринку? Потому что ему было не до веселья.",
    "Как называется медведь без ушей? Б.",
    "Почему математик не любит пляж? Потому что боится тангенсов.",
    "Что сказал виноград, когда на него наступили? Ничего, он просто выдавил сок.",
    "Почему компьютер пошел к врачу? У него был вирус.",
    "Как называется кошка, которая умеет готовить? Поварешка.",
    "Почему птицы не пользуются социальными сетями? Потому что у них есть твиттер.",
    "Что сказал один лифт другому? Давай поднимем настроение!",
    "Почему карандаш не мог найти работу? Потому что его постоянно стирали.",
    "Как называется рыба, которая играет на гитаре? Бас-гитарист.",
    "Почему снеговик не мог найти друзей? Потому что он был слишком холодным.",
    "Что сказал один алгоритм другому? Давай не будем повторяться.",
    "Почему часы не могут обмануть? Потому что они всегда идут прямо.",
    "Как называется собака-маг? Лабра-дориан.",
    "Почему дерево не могло решить задачу? Потому что оно застряло в корнях.",
    "Что сказал один байт другому? Давай не будем бить друг друга.",
    "Почему кошка не могла играть в карты? Потому что боялась котов.",
    "Как называется лошадь, которая любит спать? Соня.",
    "Почему книга всегда побеждает в спорах? Потому что у нее есть последнее слово.",
    "Что сказал один овощ другому? Давай не будем реветь.",
    "Почему фотограф всегда грустит? Потому что он видит все в негативе.",
    "Как называется корова без ног? Говядина.",
    "Почему камень не мог пойти на вечеринку? Потому что он был слишком твердым.",
    "Что сказал один банан другому? Давай не будем размягчаться.",
    "Почему дождь не мог найти работу? Потому что его постоянно увольняли.",
    "Как называется птица, которая не спит? Сова.",
    "Почему книга всегда побеждает в спорах? Потому что у нее есть последнее слово.",
    "Что сказал один овощ другому? Давай не будем реветь.",
    "Почему фотограф всегда грустит? Потому что он видит все в негативе.",
    "Как называется корова без ног? Говядина.",
    "Почему камень не мог пойти на вечеринку? Потому что он был слишком твердым.",
    "Что сказал один банан другому? Давай не будем размягчаться.",
    "Почему дождь не мог найти работу? Потому что его постоянно увольняли.",
    "Как называется птица, которая не спит? Сова.",
    "Почему книга всегда побеждает в спорах? Потому что у нее есть последнее слово.",
    "Что сказал один овощ другому? Давай не будем реветь.",
    "Почему фотограф всегда грустит? Потому что он видит все в негативе.",
    "Как называется корова без ног? Говядина.",
    "Почему камень не мог пойти на вечеринку? Потому что он был слишком твердым.",
    "Что сказал один банан другому? Давай не будем размягчаться.",
    "Почему дождь не мог найти работу? Потому что его постоянно увольняли.",
    "Как называется птица, которая не спит? Сова.",
    "Почему книга всегда побеждает в спорах? Потому что у нее есть последнее слово.",
    "Что сказал один овощ другому? Давай не будем реветь.",
    "Почему фотограф всегда грустит? Потому что он видит все в негативе.",
    "Как называется корова без ног? Говядина.",
    "Почему камень не мог пойти на вечеринку? Потому что он был слишком твердым.",
    "Что сказал один банан другому? Давай не будем размягчаться.",
    "Почему дождь не мог найти работу? Потому что его постоянно увольняли.",
    "Как называется птица, которая не спит? Сова.",
    "Почему книга всегда побеждает в спорах? Потому что у нее есть последнее слово.",
    "Что сказал один овощ другому? Давай не будем реветь.",
    "Почему фотограф всегда грустит? Потому что он видит все в негативе.",
    "Как называется корова без ног? Говядина.",
    "Почему камень не мог пойти на вечеринку? Потому что он был слишком твердым.",
    "Что сказал один банан другому? Давай не будем размягчаться.",
    "Почему дождь не мог найти работу? Потому что его постоянно увольняли.",
    "Как называется птица, которая не спит? Сова.",
    "Почему книга всегда побеждает в спорах? Потому что у нее есть последнее слово.",
    "Что сказал один овощ другому? Давай не будем реветь.",
    "Почему фотограф всегда грустит? Потому что он видит все в негативе.",
    "Как называется корова без ног? Говядина.",
    "Почему камень не мог пойти на вечеринку? Потому что он был слишком твердым.",
    "Что сказал один банан другому? Давай не будем размягчаться.",
    "Почему дождь не мог найти работу? Потому что его постоянно увольняли.",
    "Как называется птица, которая не спит? Сова.",
    "Почему книга всегда побеждает в спорах? Потому что у нее есть последнее слово.",
    "Что сказал один овощ другому? Давай не будем реветь.",
    "Почему фотограф всегда грустит? Потому что он видит все в негативе.",
    "Как называется корова без ног? Говядина.",
    "Почему камень не мог пойти на вечеринку? Потому что он был слишком твердым.",
    "Что сказал один банан другому? Давай не будем размягчаться.",
    "Почему дождь не мог найти работу? Потому что его постоянно увольняли.",
    "Как называется птица, которая не спит? Сова.",
    "Почему книга всегда побеждает в спорах? Потому что у нее есть последнее слово.",
    "Что сказал один овощ другому? Давай не будем реветь.",
    "Почему фотограф всегда грустит? Потому что он видит все в негативе.",
    "Как называется корова без ног? Говядина.",
    "Почему камень не мог пойти на вечеринку? Потому что он был слишком твердым.",
    "Что сказал один банан другому? Давай не будем размягчаться.",
    "Почему дождь не мог найти работу? Потому что его постоянно увольняли.",
    "Как называется птица, которая не спит? Сова.",
    "Почему книга всегда побеждает в спорах? Потому что у нее есть последнее слово.",
    "Что сказал один овощ другому? Давай не будем реветь.",
    "Почему фотограф всегда грустит? Потому что он видит все в негативе.",
    "Как называется корова без ног? Говядина.",
    "Почему камень не мог пойти на вечеринку? Потому что он был слишком твердым.",
    "Что сказал один банан другому? Давай не будем размягчаться.",
    "Почему дождь не мог найти работу? Потому что его постоянно увольняли.",
    "Как называется птица, которая не спит? Сова.",
    "Почему книга всегда побеждает в спорах? Потому что у нее есть последнее слово.",
    "Что сказал один овощ другому? Давай не будем реветь.",
    "Почему фотограф всегда грустит? Потому что он видит все в негативе.",
    "Как называется корова без ног? Говядина.",
    "Почему камень не мог пойти на вечеринку? Потому что он был слишком твердым.",
    "Что сказал один банан другому? Давай не будем размягчаться.",
    "Почему дождь не мог найти работу? Потому что его постоянно увольняли.",
    "Как называется птица, которая не спит? Сова.",
]

compliments = [
    "Ты сегодня выглядишь потрясающе!",
    "У тебя отличное чувство юмора!",
    "Ты очень талантливый человек!",
    "Твоя улыбка освещает день!",
    "Ты такой умный и креативный!",
    "Ты вдохновляешь окружающих!",
    "У тебя невероятная энергетика!",
    "Ты всегда находишь правильные слова!",
    "Ты прекрасный собеседник!",
    "Ты умеешь делать мир лучше!",
    "Ты выглядишь так стильно!",
    "Ты всегда знаешь, как поднять настроение!",
    "Ты очень добрый и отзывчивый!",
    "Ты умеешь слушать и поддерживать!",
    "Ты настоящий профессионал!",
    "Ты всегда добиваешься своих целей!",
    "Ты умеешь находить красоту в мелочах!",
    "Ты обладаешь уникальным взглядом на мир!",
    "Ты всегда готов помочь!",
    "Ты умеешь вдохновлять!",
    "Ты выглядишь так уверенно!",
    "Ты умеешь находить выход из любой ситуации!",
    "Ты очень харизматичный человек!",
    "Ты умеешь делать людей счастливыми!",
    "Ты обладаешь невероятной силой духа!",
    "Ты всегда остаешься собой!",
    "Ты умеешь видеть лучшее в людях!",
    "Ты очень креативный!",
    "Ты умеешь находить нестандартные решения!",
    "Ты всегда выглядишь безупречно!",
    "Ты умеешь создавать уют вокруг себя!",
    "Ты очень внимательный человек!",
    "Ты умеешь радоваться мелочам!",
    "Ты обладаешь отличным вкусом!",
    "Ты умеешь вдохновлять на большие дела!",
    "Ты очень надежный человек!",
    "Ты умеешь находить общий язык с людьми!",
    "Ты всегда готов учиться новому!",
    "Ты умеешь находить красоту в каждом моменте!",
    "Ты очень целеустремленный человек!",
    "Ты умеешь создавать атмосферу радости!",
    "Ты обладаешь невероятной мудростью!",
    "Ты умеешь находить свет даже в трудные времена!",
    "Ты очень чуткий человек!",
    "Ты умеешь делать людей лучше!",
    "Ты всегда находишь время для других!",
    "Ты умеешь видеть возможности там, где другие видят препятствия!",
    "Ты очень терпеливый человек!",
    "Ты умеешь находить радость в простых вещах!",
    "Ты обладаешь невероятной силой воли!",
    "Ты умеешь создавать гармонию вокруг себя!",
    "Ты очень искренний человек!",
    "Ты умеешь находить вдохновение в каждом дне!",
    "Ты всегда готов поддержать!",
    "Ты умеешь видеть лучшее в каждом человеке!",
    "Ты очень позитивный человек!",
    "Ты умеешь находить радость в мелочах!",
    "Ты обладаешь невероятной интуицией!",
    "Ты умеешь находить выход из сложных ситуаций!",
    "Ты очень творческий человек!",
    "Ты умеешь создавать уют и тепло!",
    "Ты всегда находишь правильные слова!",
    "Ты умеешь вдохновлять на перемены!",
    "Ты очень заботливый человек!",
    "Ты умеешь находить радость в каждом моменте!",
    "Ты обладаешь невероятной силой духа!",
    "Ты умеешь создавать атмосферу доверия!",
    "Ты очень доброжелательный человек!",
    "Ты умеешь находить красоту в каждом дне!",
    "Ты всегда готов помочь!",
    "Ты умеешь видеть лучшее в людях!",
    "Ты очень креативный человек!",
    "Ты умеешь находить нестандартные решения!",
    "Ты всегда выглядишь безупречно!",
    "Ты умеешь создавать уют вокруг себя!",
    "Ты очень внимательный человек!",
    "Ты умеешь радоваться мелочам!",
    "Ты обладаешь отличным вкусом!",
    "Ты умеешь вдохновлять на большие дела!",
    "Ты очень надежный человек!",
    "Ты умеешь находить общий язык с людьми!",
    "Ты всегда готов учиться новому!",
    "Ты умеешь находить красоту в каждом моменте!",
    "Ты очень целеустремленный человек!",
    "Ты умеешь создавать атмосферу радости!",
    "Ты обладаешь невероятной мудростью!",
    "Ты умеешь находить свет даже в трудные времена!",
    "Ты очень чуткий человек!",
    "Ты умеешь делать людей лучше!",
    "Ты всегда находишь время для других!",
    "Ты умеешь видеть возможности там, где другие видят препятствия!",
    "Ты очень терпеливый человек!",
    "Ты умеешь находить радость в простых вещах!",
    "Ты обладаешь невероятной силой воли!",
    "Ты умеешь создавать гармонию вокруг себя!",
    "Ты очень искренний человек!",
    "Ты умеешь находить вдохновение в каждом дне!",
    "Ты всегда готов поддержать!",
    "Ты умеешь видеть лучшее в каждом человеке!",
    "Ты очень позитивный человек!",
]

# Варианты вопросов о имени пользователя
name_questions = [
    "Как вас зовут?",
    "Ваше имя, пожалуйста?",
    "Как мне к вам обращаться?",
    "Могу я узнать ваше имя?",
    "Представьтесь, пожалуйста.",
    "Как ваше имя?",
    "Как вас зовут, уважаемый(ая)?",
    "Какое у вас имя?",
    "Скажите, как вас зовут?",
    "Можно узнать ваше имя?"
]

# Список нецензурных слов
bad_words = ["бля", "жопа", "хуй","бляха", "пиздец", "хуйня","бляяя", "пиздуй", "хуевый","пиздень", "ебать", "мля"]

# Варианты вопросов "Как дела?"
how_are_you_variants = [
    "как дела?", "как дела", "как ты?", "как ты", "как поживаешь?", "как поживаешь",
    "как настроение?", "как настроение", "как самочувствие?", "как самочувствие",
    "что нового?", "что нового", "как жизнь?", "как жизнь", "как ты там?",
    "как сам?", "как сам", "как ты поживаешь?", "как ты поживаешь", "как вы?", "как вы",
    "как вы поживаете?", "как вы поживаете", "что у тебя нового?", "что у тебя нового",
    "что у вас нового?", "что у вас нового", "как у вас дела?", "как у вас дела",
    "как у тебя дела?", "как у тебя дела", "как твои дела?", "как твои дела",
    "как ваши дела?", "как ваши дела", "как твоё настроение?", "как твоё настроение",
    "как ваше настроение?", "как ваше настроение", "как твоё самочувствие?", "как твоё самочувствие",
    "как ваше самочувствие?", "как ваше самочувствие", "что нового у тебя?", "что нового у тебя",
    "что нового у вас?", "что нового у вас", "как там ты?", "как там ты",
    "как ты себя чувствуешь?", "как ты себя чувствуешь", "как вы себя чувствуете?", "как вы себя чувствуете",
    "как чувствуешь себя?", "как чувствуешь себя", "как чувствуешь?", "как чувствуешь",
    "как сами?", "как сами", "как там у вас?", "как там у вас", "как у тебя?", "как у тебя",
    "как у вас?", "как у вас", "как у тебя самочувствие?", "как у тебя самочувствие",
    "как у вас самочувствие?", "как у вас самочувствие", "как здоровье?", "как здоровье",
    "как у тебя здоровье?", "как у тебя здоровье", "как у вас здоровье?", "как у вас здоровье",
    "как поживаете?", "как поживаете", "как поживаешь сам?", "как поживаешь сам"
]

# Варианты ответов на нецензурную брань
bad_word_responses = [
    "Нецензурная брань вредна, пожалуйста, нажмите на одну из кнопок ниже.",
    "Прошу воздержаться от нецензурных выражений. Нажмите на одну из кнопок ниже.",
    "Использование нецензурной брани нежелательно. Пожалуйста, выберите одну из кнопок.",
    "Давайте общаться вежливо. Пожалуйста, нажмите на одну из кнопок ниже.",
    "Пожалуйста, избегайте нецензурных слов. Нажмите на одну из кнопок ниже.",
    "Нецензурные выражения не приветствуются. Пожалуйста, нажмите на одну из кнопок ниже.",
    "Прошу избегать ненормативной лексики. Нажмите на одну из кнопок ниже.",
    "Ваше сообщение содержит нецензурную брань. Пожалуйста, нажмите на одну из кнопок ниже.",
    "Давайте использовать культурные выражения. Нажмите на одну из кнопок ниже.",
    "Прошу вас быть вежливее. Нажмите на одну из кнопок ниже.",
    "Нецензурные слова могут обидеть других. Нажмите на одну из кнопок ниже.",
    "Давайте общаться корректно. Пожалуйста, нажмите на одну из кнопок ниже.",
    "Прошу вас воздержаться от грубых слов. Нажмите на одну из кнопок ниже.",
    "Ваше сообщение нарушает правила общения. Пожалуйста, нажмите на одну из кнопок ниже.",
    "Некорректные выражения недопустимы. Нажмите на одну из кнопок ниже.",
    "Пожалуйста, используйте уважительные слова. Нажмите на одну из кнопок ниже.",
    "Нецензурные выражения недопустимы в нашем чате. Нажмите на одну из кнопок ниже.",
    "Давайте быть культурными. Пожалуйста, нажмите на одну из кнопок ниже.",
    "Прошу избегать грубых выражений. Нажмите на одну из кнопок ниже.",
    "Ваше сообщение содержит недопустимые слова. Пожалуйста, нажмите на одну из кнопок ниже.",
    "Давайте общаться уважительно. Нажмите на одну из кнопок ниже.",
    "Нецензурная брань не приветствуется. Пожалуйста, нажмите на одну из кнопок ниже.",
    "Прошу вас воздержаться от ненормативной лексики. Нажмите на одну из кнопок ниже.",
    "Некорректные выражения не допустимы. Нажмите на одну из кнопок ниже.",
    "Ваше сообщение нарушает нормы общения. Пожалуйста, нажмите на одну из кнопок ниже.",
    "Прошу избегать оскорблений. Нажмите на одну из кнопок ниже.",
    "Давайте использовать культурные слова. Нажмите на одну из кнопок ниже.",
    "Некорректные слова могут обидеть других. Нажмите на одну из кнопок ниже.",
    "Пожалуйста, воздержитесь от грубых выражений. Нажмите на одну из кнопок ниже.",
    "Ваше сообщение не соответствует нормам общения. Пожалуйста, нажмите на одну из кнопок ниже.",
    "Прошу вас быть вежливыми. Нажмите на одну из кнопок ниже.",
    "Нецензурные выражения не уместны. Нажмите на одну из кнопок ниже.",
    "Пожалуйста, используйте корректные слова. Нажмите на одну из кнопок ниже.",
    "Ваше сообщение содержит недопустимые выражения. Пожалуйста, нажмите на одну из кнопок ниже.",
    "Прошу избегать ненормативной лексики. Нажмите на одну из кнопок ниже.",
    "Давайте общаться культурно. Нажмите на одну из кнопок ниже.",
    "Нецензурные выражения могут быть оскорбительны. Нажмите на одну из кнопок ниже.",
    "Пожалуйста, используйте вежливые слова. Нажмите на одну из кнопок ниже.",
    "Ваше сообщение содержит неприемлемые выражения. Пожалуйста, нажмите на одну из кнопок ниже."
]

# Варианты ответов на неизвестные вопросы
unknown_question_responses = [
    "Спроси у ИИ.",
    "Попробуй спросить у ИИ.",
    "Может быть, ИИ знает ответ.",
    "Обратись к ИИ за ответом.",
    "Возможно, ИИ сможет помочь.",
    "Это вопрос для ИИ.",
    "ИИ может помочь тебе.",
    "Лучше спросить у ИИ.",
    "Поищи ответ у ИИ.",
    "ИИ точно знает ответ.",
    "Позволь ИИ помочь тебе.",
    "Попробуй задать этот вопрос ИИ.",
    "ИИ знает, что делать.",
    "Спроси об этом у ИИ.",
    "Лучше обратиться к ИИ.",
    "ИИ тебе поможет.",
    "Может, ИИ знает ответ.",
    "Обратись с этим к ИИ.",
    "ИИ может ответить на это.",
    "Задай этот вопрос ИИ.",
    "ИИ имеет ответ.",
    "Возможно, ИИ знает.",
    "Пусть ИИ поможет тебе.",
    "Ищи ответ у ИИ.",
    "ИИ может помочь.",
    "Это вопрос для ИИ.",
    "ИИ поможет в этом.",
    "Спроси это у ИИ.",
    "ИИ знает ответ.",
    "Ищи ответ у ИИ."
]

# Команда /start
async def start(update: Update, context: CallbackContext) -> int:
    question = random.choice(name_questions)
    await update.message.reply_text(question)
    return NAME

# Обработка имени пользователя
async def get_name(update: Update, context: CallbackContext) -> int:
    user_name = update.message.text
    context.user_data['name'] = user_name  # Сохраняем имя в user_data
    reply_keyboard = [['Рандомная цитата', 'Рандомная шутка'], ['Комплимент дня', 'Вернуться в начало']]
    markup = ReplyKeyboardMarkup(reply_keyboard, one_time_keyboard=True)
    await update.message.reply_text(f"Приятно познакомиться, {user_name}! Что вы хотите?", reply_markup=markup)
    return MAIN_MENU

# Обработка выбора пользователя
async def main_menu(update: Update, context: CallbackContext) -> int:
    user_choice = update.message.text
    user_name = context.user_data.get('name', 'друг')  # Получаем имя из user_data

    if user_choice == 'Рандомная цитата':
        quote = random.choice(quotes)
        await update.message.reply_text(f"{user_name}, вот ваша цитата: {quote}")
    elif user_choice == 'Рандомная шутка':
        joke = random.choice(jokes)
        await update.message.reply_text(f"{user_name}, вот ваша шутка: {joke}")
    elif user_choice == 'Комплимент дня':
        compliment = random.choice(compliments)
        await update.message.reply_text(f"{user_name}, вот ваш комплимент дня: {compliment}")
    elif user_choice == 'Вернуться в начало':
        await update.message.reply_text(f"Хорошо, {user_name}, возвращаемся в начало.")
        return await start(update, context)
    elif user_choice.lower() in how_are_you_variants:
        await update.message.reply_text(f"У меня всё хорошо, {user_name}! Нажмите на одну из кнопок ниже.")
    elif any(bad_word in user_choice.lower() for bad_word in bad_words):
        response = random.choice(bad_word_responses)
        await update.message.reply_text(response)
    else:
        response = random.choice(unknown_question_responses)
        await update.message.reply_text(response)

    return MAIN_MENU

# Команда /help
async def help_command(update: Update, context: CallbackContext):
    await update.message.reply_text(
        "Вот список доступных команд:\n"
        "/start - начать диалог\n"
        "/help - показать это сообщение\n"
        "/cancel - завершить текущий диалог"
    )

# Команда /cancel
async def cancel(update: Update, context: CallbackContext) -> int:
    await update.message.reply_text("Диалог завершен. Введите /start для начала нового диалога.")
    return ConversationHandler.END

# Обработка ошибок
async def error_handler(update: Update, context: CallbackContext):
    logger.error(msg="Exception while handling an update:", exc_info=context.error)
    await update.message.reply_text("Произошла ошибка. Пожалуйста, попробуйте снова позже.")

# Запуск бота
def main() -> None:
    # Вставьте сюда ваш токен
    application = Application.builder().token("7075157772:AAFjWtcsWZgPAjijlELjO1e1NVP9EBUWtO4").build()

    # Создаем ConversationHandler
    conv_handler = ConversationHandler(
        entry_points=[CommandHandler('start', start)],
        states={
            NAME: [MessageHandler(filters.TEXT & ~filters.COMMAND, get_name)],
            MAIN_MENU: [MessageHandler(filters.TEXT & ~filters.COMMAND, main_menu)],
        },
        fallbacks=[CommandHandler('cancel', cancel)],
    )

    application.add_handler(conv_handler)
    application.add_handler(CommandHandler('help', help_command))

    # Обработчик ошибок
    application.add_error_handler(error_handler)

    # Запускаем бота
    application.run_polling()

if __name__ == '__main__':
    main()
